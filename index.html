<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lines of Battle - Army Composition Optimizer</title>
    <link rel="stylesheet" href="./styles.css">
        
</head>
<body>
    <div class="theme-switch-wrapper">
        <span>Campaign Mode</span>
        <label class="theme-switch" for="checkbox">
            <input type="checkbox" id="checkbox" />
            <div class="slider"></div>
        </label>
        <span class="mode-icon">ðŸ”¥</span>
    </div>
    
    <header>
        <h1>Lines of Battle</h1>
        <p>Army Composition Optimizer</p>
        <div class="decoration">
            <hr><span>âœ </span><hr>
        </div>
    </header>
    
    <div class="container">
        <div class="setup card">
            <h2>Field Marshal's Army <button class="btn" id="guide-btn">?</button></h2>
            
                
            <div>
                <h3>Campaign Type</h3>
                <div class="game-mode">
                    <button class="mode-btn active" data-mode="clash">Clash</button>
                    <button class="mode-btn" data-mode="combat">Combat</button>
                    <button class="mode-btn" data-mode="battle">Battle</button>
                    <button class="mode-btn" data-mode="grandbattle">Grand Battle</button>
                </div>
            </div>
            
            <div class="decoration">
                <hr><span>âœ </span><hr>
            </div>
            
            <div class="resources-section">
                <h3>Resources at Disposal <span class="emblem">âšœ</span></h3>
                <div class="resources">
                    <div class="resource">
                        <h3>Manpower</h3>
                        <div class="resource-value" id="manpower">2275</div>
                        <div>Available: <span id="manpower-left">2275</span></div>
                    </div>
                    <div class="resource">
                        <h3>Gold</h3>
                        <div class="resource-value" id="gold">1200</div>
                        <div>Available: <span id="gold-left">1200</span></div>
                    </div>
                </div>
            </div>
            <h3>Regimental Roster</h3>
            <div class="units-table-container">
                <table class="units-table">
                    <thead>
                        <tr>
                            <th>Unit</th>
                            <th>Manpower</th>
                            <th>Gold</th>
                            <th>Count</th>
                            <th>Include</th>
                        </tr>
                    </thead>
                    <tbody id="units-tbody">
                        <!-- Units will be added here dynamically -->
                    </tbody>
                </table>
            </div>
            
            <div class="buttons">
                <button class="btn" id="reset-btn">Reset</button>
                <button class="btn btn-optimize" id="optimize-btn">Devise Army Composition</button>
            </div>
        </div>
        
        <div class="result card" id="result-section">
            <h2>Imperial Battle Order</h2>
            <div class="loader" id="loader">
                <div class="spinner"></div>
                <p>The Imperial Staff is devising your battle plan...</p>
            </div>
            <div id="optimization-result">
                <!-- Results will be displayed here -->
            </div>
        </div>

        <div id="guide-modal" class="modal">
            <div class="hiding modal-content">
                <span class="close">&times;</span>
                <div class="guide-content">
                    <h2>Field Marshal's Guide</h2>
                    
                    <div class="decoration">
                        <hr><span>âœ </span><hr>
                    </div>
                    
                    <h3>How to Use This Tool</h3>
                    
                    <div class="guide-section">
                        <h4>Select Your Mode</h4>
                        <ul>
                            <li>If the tool isn't working as expected, check if your input matches the selected mode.</li>
                        </ul>
                    </div>
                    
                    <div class="guide-section">
                        <h4>Input Your Army Composition</h4>
                        <ul>
                            <li>Enter your current army into the input field. (This is a rule of thumb, you can ignore it if you know what you're doing.)</li>
                            <li>You can exclude unimportant units to help the algorithm prioritize better.</li>
                            <li>The algorithm can handle large amounts of unused resources, but if it runs too slowly, consider including more units.</li>
                        </ul>
                    </div>
                    
                    <div class="guide-section">
                        <h4>Choose Units for the Final Result</h4>
                        <ul>
                            <li>Use the include field to decide which units should appear in the final army.</li>
                            <li>Computation time scales exponentially with more units. Try to keep selections minimal.</li>
                            <li>Units with a count of 0 can still be included.</li>
                        </ul>
                    </div>
                    
                    <div class="guide-section">
                        <h4>Get the Result</h4>
                        <ul>
                            <li>The final composition is usually calculated in less than 1 second, though complex inputs may take longer.</li>
                            <li>Implement Battle Plan applies the suggested output to your army.</li>
                            <li>If resources are left over (e.g., 25 manpower remaining), you can refine your composition further.</li>
                            <li>Use the arrows to browse multiple solutions.</li>
                        </ul>
                    </div>
                    
                    <div class="guide-section">
                        <h4>Additional Notes</h4>
                        <ul>
                            <li>We wish you a happy day!</li>
                        </ul>
                    </div>
                    
                    <div class="decoration">
                        <hr><span>âœ </span><hr>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script src="./config.js">
    </script>
    <script src="./production.js">
    </script>
</body>
</html>                    
                    <div class="guide-section">
                        <h4>Select Your Mode</h4>
                        <ul>
                            <li>If the tool isn't working as expected, check if your input matches the selected mode.</li>
                        </ul>
                    </div>
                    
                    <div class="guide-section">
                        <h4>Input Your Army Composition</h4>
                        <ul>
                            <li>Enter your current army into the input field. (This is a rule of thumb, you can ignore it if you know what you're doing.)</li>
                            <li>You can exclude unimportant units to help the algorithm prioritize better.</li>
                            <li>The algorithm can handle large amounts of unused resources, but if it runs too slowly, consider including more units.</li>
                        </ul>
                    </div>
                    
                    <div class="guide-section">
                        <h4>Choose Units for the Final Result</h4>
                        <ul>
                            <li>Use the include field to decide which units should appear in the final army.</li>
                            <li>Computation time scales exponentially with more units. Try to keep selections minimal.</li>
                            <li>Units with a count of 0 can still be included.</li>
                        </ul>
                    </div>
                    
                    <div class="guide-section">
                        <h4>Get the Result</h4>
                        <ul>
                            <li>The final composition is usually calculated in less than 1 second, though complex inputs may take longer.</li>
                            <li>Implement Battle Plan applies the suggested output to your army.</li>
                            <li>If resources are left over (e.g., 25 manpower remaining), you can refine your composition further.</li>
                            <li>Use the arrows to browse multiple solutions.</li>
                        </ul>
                    </div>
                    
                    <div class="guide-section">
                        <h4>Additional Notes</h4>
                        <ul>
                            <li>The algorithm limits total unit changes to 20 to prevent stalling.</li>
                            <li>Horse Archers are not included. They are considered a meme unit.</li>
                        </ul>
                    </div>
                    
                    <div class="decoration">
                        <hr><span>âœ </span><hr>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <script src="./script.js">
    </script>
</body>
</html>
